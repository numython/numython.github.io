<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Funciones definidas a trozos (piecewise) con NumPy | Numython</title>
<link href="../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#33642A" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../rss.xml">
<link rel="canonical" href="https://numython.github.io/posts/2016/02/funciones-definidas-trozos-piecewise/">
<!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Pedro Jorge De Los Santos">
<link rel="prev" href="../utilizando-estilos-en-matplotlib/" title="Utilizando estilos en Matplotlib" type="text/html">
<link rel="next" href="../../03/sympy-es-una-de-esas-librerias-que-lo/" title="SymPy, calculando la ecuación de un plano dados tres puntos" type="text/html">
<meta property="og:site_name" content="Numython">
<meta property="og:title" content="Funciones definidas a trozos (piecewise) con NumPy">
<meta property="og:url" content="https://numython.github.io/posts/2016/02/funciones-definidas-trozos-piecewise/">
<meta property="og:description" content="Una función definida a trozos es una función real \(f\) de una variable real \(x\), cuya definición está dada por varios conjuntos disjuntos de su dominio. [1]El ejemplo clásico de una función definid">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-02-29T21:15:00-06:00">
<meta property="article:tag" content="mathjax">
<meta property="article:tag" content="numpy">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://numython.github.io/">

                <span id="blog-title">Numython</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../../../archive.html">Archivo</a>
                </li>
<li>
<a href="../../../../categories/">Etiquetas</a>
                </li>
<li>
<a href="../../../../rss.xml">Canal RSS</a>

                
            </li>
</ul>
<!-- Google custom search --><form method="get" action="https://www.google.com/search" class="navbar-form navbar-right" role="search">
<div class="form-group">
<input type="text" name="q" class="form-control" placeholder="Search">
</div>
<button type="submit" class="btn btn-primary">
    <span class="glyphicon glyphicon-search"></span>
</button>
<input type="hidden" name="sitesearch" value="https://numython.github.io/">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right">
<li>
    <a href="index.src.html" id="sourcelink">Código fuente</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Funciones definidas a trozos (piecewise) con NumPy</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    Pedro Jorge De Los Santos
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2016-02-29T21:15:00-06:00" itemprop="datePublished" title="2016-02-29 21:15">2016-02-29 21:15</time></a></p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/2016/02/funciones-definidas-trozos-piecewise.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="index.src.html" id="sourcelink">Código fuente</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div style="text-align: justify;">Una función definida a trozos es una función real \(f\) de una variable real \(x\), cuya definición está dada por varios conjuntos disjuntos de su dominio. <sup>[1]</sup>
</div>
<div style="text-align: justify;"><br></div>
<div style="text-align: justify;">El ejemplo clásico de una función definida por secciones es la función valor absoluto \(abs(x)\), habitualmente definida por:</div>
<br><span class="math display">$$ f(x)= |x| = \left\{ \begin{matrix} -x &amp; si \,\, x &lt; 0 \\ x &amp; si \,\, x \geq 0 \\ \end{matrix}\right. $$</span><br><br><div style="text-align: justify;">De manera ordinaria, en NumPy, para definir una función en un intervalo tendríamos que crear un vector de \(n\) cantidad de puntos en ese intervalo, y posteriormente crear la expresión que define la función, por ejemplo, definiendo a \(f(x)=x\,\,cos(x)\)</div>
<br><div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op" style="color: #666666;">&gt;&gt;&gt;</span> <span class="im">import</span> numpy <span class="im">as</span> np<br><span class="op" style="color: #666666;">&gt;&gt;&gt;</span> x<span class="op" style="color: #666666;">=</span>np.linspace(<span class="dv" style="color: #40a070;">0</span>,<span class="dv" style="color: #40a070;">10</span>)<br><span class="op" style="color: #666666;">&gt;&gt;&gt;</span> y<span class="op" style="color: #666666;">=</span>x<span class="op" style="color: #666666;">*</span>np.cos(x)</code></pre></div>
<br><div style="text-align: justify;">Ahora, dada la naturaleza de las funciones por tramos, estás no pueden definirse como en las líneas anteriores, puesto que la expresión que las define depende del intervalo. Una opción para crear una función a trozos sería definiendo un intervalo para cada expresión y posteriormente concatenar todo en un mismo arreglo, tanto para los intervalos como las expresiones.</div>
<div style="text-align: justify;"><br></div>
<div style="text-align: justify;">Por ejemplo, definiendo la función valor absoluto en el intervalo \((-10,10)\):</div>
<br><div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> numpy <span class="im">as</span> np<br><br>x1 <span class="op" style="color: #666666;">=</span> np.linspace(<span class="op" style="color: #666666;">-</span><span class="dv" style="color: #40a070;">10</span>,<span class="dv" style="color: #40a070;">0</span>)<br>x2 <span class="op" style="color: #666666;">=</span> np.linspace(<span class="dv" style="color: #40a070;">0</span>,<span class="dv" style="color: #40a070;">10</span>)<br>y1 <span class="op" style="color: #666666;">=</span> <span class="op" style="color: #666666;">-</span>x1<br>y2 <span class="op" style="color: #666666;">=</span> x2<br>x <span class="op" style="color: #666666;">=</span> np.concatenate((x1,x2))<br>y <span class="op" style="color: #666666;">=</span> np.concatenate((y1,y2))</code></pre></div>
<div style="text-align: justify;"><br></div>
<div style="text-align: justify;">Si, lo anterior puede parecer un poco <em>tedioso</em>, así que NumPy también dispone de una función que nos ahorra el estar escribiendo mucho código: <code style="white-space: pre;">piecewise</code>, la cual nos permite crear un arreglo a partir de otro (intervalo), seccionando este acorde a las expresiones/funciones pasadas como argumentos y a las condiciones lógicas para definir los subintervalos. En términos simples la sintaxis de <code style="white-space: pre;">piecewise</code> es:</div>
<br><div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">np.piecewise(x, logls, funls)</code></pre></div>
<br><div style="text-align: justify;">Donde <code style="white-space: pre;">x</code> es un arreglo que define la variable independiente, <code style="white-space: pre;">logls</code> una lista de condiciones lógicas para seccionar y definir los subintervalos, y <code style="white-space: pre;">funls</code> una lista de funciones o constantes que definen el valor de la función para el subintervalo correspondiente.</div>
<div style="text-align: justify;"><br></div>
<div style="text-align: justify;">Siguiendo con nuestro ejemplo de la función valor absoluto, haríamos algo como lo siguiente:</div>
<br><div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> numpy <span class="im">as</span> np<br><br>x <span class="op" style="color: #666666;">=</span> np.linspace(<span class="op" style="color: #666666;">-</span><span class="dv" style="color: #40a070;">5</span>, <span class="dv" style="color: #40a070;">5</span>)<br>y <span class="op" style="color: #666666;">=</span> np.piecewise(x, [x<span class="op" style="color: #666666;">&lt;</span><span class="dv" style="color: #40a070;">0</span>, x<span class="op" style="color: #666666;">&gt;=</span><span class="dv" style="color: #40a070;">0</span>], [<span class="kw" style="color: #007020; font-weight: bold;">lambda</span> x: <span class="op" style="color: #666666;">-</span>x, <span class="kw" style="color: #007020; font-weight: bold;">lambda</span> x: x])</code></pre></div>
<br><div style="text-align: justify;">Desde luego también se pueden usar funciones ordinarias en lugar de lambdas.</div>
<div style="text-align: justify;"><br></div>
<div style="text-align: justify;">Para hacer esto un poco más <em>ilustrativo</em> vamos a utilizar Matplotlib para trazar la gráfica correspondiente:</div>
<br><div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> numpy <span class="im">as</span> np<br><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt <br><br>x <span class="op" style="color: #666666;">=</span> np.linspace(<span class="op" style="color: #666666;">-</span><span class="dv" style="color: #40a070;">5</span>, <span class="dv" style="color: #40a070;">5</span>)<br>y <span class="op" style="color: #666666;">=</span> np.piecewise(x, [x<span class="op" style="color: #666666;">&lt;</span><span class="dv" style="color: #40a070;">0</span>, x<span class="op" style="color: #666666;">&gt;=</span><span class="dv" style="color: #40a070;">0</span>], [<span class="kw" style="color: #007020; font-weight: bold;">lambda</span> x: <span class="op" style="color: #666666;">-</span>x, <span class="kw" style="color: #007020; font-weight: bold;">lambda</span> x: x])<br><br>plt.plot(x, y)<br><br>plt.show()</code></pre></div>
<a href="file:///C:/Users/User/Desktop/LABPro/_blogs_/Python%20para%20Ingenieros/Posts/Funciones%20definidas%20a%20trozos%20(piecewise)%20con%20Numpy/img/img_01.png"></a><br><strong><br></strong><br><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-Wrz9la4Vedg/VtS0t9Vt9AI/AAAAAAAAByE/abcTdoAzXEU/s1600/img_01.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="300" src="https://2.bp.blogspot.com/-Wrz9la4Vedg/VtS0t9Vt9AI/AAAAAAAAByE/abcTdoAzXEU/s400/img_01.png" width="400"></a></div>
<strong><br></strong><strong><br></strong><strong>Referencias:</strong><br>[1]. <a href="https://es.wikipedia.org/wiki/Funci%C3%B3n_definida_a_trozos">https://es.wikipedia.org/wiki/Funci%C3%B3n_definida_a_trozos</a>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../../categories/numpy/" rel="tag">numpy</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../utilizando-estilos-en-matplotlib/" rel="prev" title="Utilizando estilos en Matplotlib">Publicación anterior</a>
            </li>
            <li class="next">
                <a href="../../03/sympy-es-una-de-esas-librerias-que-lo/" rel="next" title="SymPy, calculando la ecuación de un plano dados tres puntos">Siguiente publicación</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comentarios</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="jorge-de-los-santos",
            disqus_url="https://numython.github.io/posts/2016/02/funciones-definidas-trozos-piecewise/",
        disqus_title="Funciones definidas a trozos (piecewise) con NumPy",
        disqus_identifier="cache/posts/2016/02/funciones-definidas-trozos-piecewise.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script><script type="text/x-mathjax-config">
            MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
            </script></article><script>var disqus_shortname="jorge-de-los-santos";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2016         <a href="mailto:delossantosmfq@gmail.com">Pedro Jorge De Los Santos</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../../../assets/js/all-nocdn.js"></script><script src="../../../../assets/js/colorbox-i18n/jquery.colorbox-es.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("es");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
